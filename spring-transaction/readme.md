Spring Transaction



##### 1. 事务的特性(ACID)

- 原子性(Atomicity)

  原子性是指事务包含的所有操作要么全部成功，要么全部失败回滚；

- 一致性()

  一致性是指事务必须使数据库从一个一致性状态变换到另一个一致性状态，也就是说一个事务执行之前和执行之后都必须处于一致性状态；

- 隔离性()

  隔离性是当多个用户并发访问数据库时，比如操作同一张表时，数据库为每一个用户开启的事务，不能被其他事务的操作所干扰，多个并发事务之间要相互隔离；

- 持久性()

  持久性是指一个事务一旦被提交了，那么对数据库中的数据的改变就是永久性的，即便是在数据库系统遇到故障的情况下也不会丢失提交事务的操作；



##### 2. 事务的并发问题(隔离性导致)

- 脏读

  一个事务读取到另一个事务未提交的数据；

- 不可重复读

  一个事务多次读取同一条记录，同时另一个事务也访问该数据，那么在第一个事务的某两次读取数据中可能由于第二个事务的修改导致读取的数据不一致；`update操作`；

- 幻读

  一个事务先读取了几条数据，接着另一个事务新增或者删除了一些数据，然后第一个事务的随后查询中可能出现多了一些数据或者少了一些数据；`insert、delete操作`；



##### 3. 事务的隔离级别

- Read Uncommitted：读未提交，最低级别，无法保证任何情况；
- Read Committed：读已提交，可避免脏读发生；
- Repeatable Read：可重复读，可避免脏读、不可重复读发生；
- Serializable：串行化，可避免脏读、不可重复读、幻读发生；